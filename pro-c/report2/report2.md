# レポート課題2 補足資料  ― 簡易版シェル ―

ここでは，レポート課題の補足としてコマンド（別のプログラム）を実行する機能だけをもつ簡易版シェルについて概説する．別のプログラムを実現するためには以下の3つの段階が必要となる．

1.  新しいプロセスを作成する．
2.  作成したプロセスに別のプログラムを実行させる．
3.  （必要ならば）そのプログラムが終了するのを待機する．

以上の各機能はそれぞれ， `_fork_`, `_exec_`, `_wait_`システムコールを用いて実現できる．**以上の説明はあくまでも「別のプログラム」を実行するための方針であり，今回自作するコマンドのために別プロセスをわざわざ作る必要はないことに注意せよ．**

簡易版シェルに必要な機能は，コマンドを実行するのみであるから，プログラム全体の流れは以下のようになる．

1.  プロンプトを表示する．
2.  入力された文字列をコマンドとそれに続く引数列へと分解する．
3.  プロセスを生成してコマンドを実行する．

上述のシステムコールを用い，この流れに従って簡易版シェルを実現するプログラムを [simple_shell.c](/proc/dist/simple_shell.c) に示す．（このプロジェクトのソースコードはreplitのプロジェクトreport2にも用意している）ただし，このプログラムにはコマンドを実行する部分（/******** Your Program ********/と書かれている部分）は含まれていない．実際には，直前に書かれているコメントに従い /******** Your Program ********/ の部分に対応するコードを作成する必要がある．

なお，この簡易版シェルでは最後の引数として "&" が与えられた場合にのみ，そのコマンドをバックグラウンドジョブとして実行することとしている．また，"exit" というコマンドが与えられた場合にシェルを終了することとしている．

