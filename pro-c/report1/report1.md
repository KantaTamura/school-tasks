# 第1回レポート課題

課題1-1は演習室などのUNIX環境で実施できる．課題1-2, 課題1-3はreplit上で実施し，submitすること．

### 課題1-1

次のリンクから参照できるシェルスクリプト [mkfilelist](/proc/dist/mkfilelist) をダウンロードし，次の作業を行いなさい.

(1）ホームディレクトリに ~/bin/ フォルダを作成し，以下コマンドを実行せよ．

```bash
$ export PATH=$PATH:~/bin/
```

(2）~/bin/ ディレクトリ内に mkfilelist を移動し，以下コマンドを実行せよ
```bash
$ chmod u+x ~/bin/mkfilelist
```

(3）ホームディレクトリに移動し， 以下コマンドを実行せよ
```bash
$ echo aaa > a.txt
$ echo bbb > b.txt
$ mkfilelist a.txt b.txt
```

(4）実行結果として，result.html というファイルが作成されるはずである．以下コマンドを実行し，htmlファイルの中身をブラウザで確認するとともに，htmlファイルのソースコードも確認せよ．

```bash
$ firefox result.html &
$ less result.html
```

(5）以上の作業を通して，以下の内容をレポートにまとめよ．

1. 上記作業のうち，(1)，(2)の作業がもつ意味．
2. このシェルスクリプトのコマンドとしての動作の説明．
3. このシェルスクリプトの各行の動作内容の説明．ただし，最終的に全ての行の役割が説明中に含まれていればよいので，複数行をまとめて説明しても構わない．
  - htmlの中身は説明不要

スクリプト中の各コマンドの説明は`man sh`などで調べよ．

### 課題1-2

replitのプロジェクト「report1-2」のdataというフォルダに，FIFAワールドカップ2010の1次リーグにおけるグループごとの対戦結果を記述したファイルがある．

各ファイルにはプレーンテキストの表形式で対戦結果が記述してあり，対戦結果の内容は勝敗を表す記号，および試合結果（得点）である．ただし，各対戦結果は表の第1列にある国を基準としており，勝敗を表す記号は以下の通りである．

- O（大文字のオー） ： 第1列にある国の勝ち
- X（大文字のエックス）： 第1列にある国の負け
- =（イコール） ： 引き分け

また，表中の `#` は同一国の対戦を意味し，得点は「"第1列にある国の得点"-"第1行にある国の得点"」という形式となっている．たとえば，以下のような内容をもつ groupH というファイル中の対戦結果表において， 2行・5列目の対戦結果は，Spain が Chile に 2対1 で勝ったことを表している．

```
2010 FIFA World Cup Stage1 Result

Group H
            Spain Switzerland Honduras Chile
Spain         #      X 0-1     O 2-0   O 2-1
Switzerland O 1-0      #       = 0-0   X 0-1
Honduras    X 0-2    = 0-0       #     X 0-1
Chile       X 1-2    O 1-0     O 1-0     #
```

これらのファイルから 対戦結果表の LaTeXファイルを生成するプログラムをpythonで作成せよ．作成するスクリプトは以下の仕様を満たすこと．

1. スクリプトの引数は，グループを表す A ～ H までのアルファベットとする．
2. 引数は 0個以上，8個まで指定でき，指定された順序で各グループに対する対戦結果表を出力する 1つの LaTeXファイルを生成する．
    - 例： `report1-2.py A D C` と指定するとグループA，D，Cの順で対戦結果表が記載されたLaTeXファイルが生成される．
    - 引数ではなく実行後に標準入力から指定する方式は仕様を満たしていないとする．
3. 引数が省略された場合は，A ～ H までのすべてのグループの対戦結果表を A ～ H の順に出力する 1つの LaTeXファイルを生成する．
4. 不正な引数が指定された場合は，エラーメッセージを出力して終了する．
    - 例：存在しないグループが含まれている場合 `repot1-2.py A D Z`，グループ名の指定方法が仕様外の場合 `repot1-2.py ADC`．
    - エラーメッセージは自由に設定して良いが，プログラムの不正動作によるPythonの標準エラーメッセージが表示される場合は仕様を満たしていないとする．
5. 生成される LaTeX ファイルの名前は，"group-[グループ名].tex" とする．ただし，[グループ名] は出力したグループを表すアルファベットの列とし，その順序は対戦結果表の出力順序と同一とする．
    - 例： "report1-2.py A D C" と指定すると "group-ADC.tex" という名前のファイルが生成される．
    - 例： 引数が省略された場合は，"group-ABCDEFGH.tex" が出力される．
6. 入力されるファイルのフォーマットは正しいもの（配布しているファイル以外は読み込まない）と仮定してよい．

また，出力するLaTeXファイルの記載内容は，以下の仕様を満たすこと．

1. 各対戦結果表は A4用紙 1ページにつき 1つ出力する．
    - 同一ページに複数の対戦結果表を出力している場合は仕様を満たしていないとする．
2. 各対戦結果表の上にはグループ名を含む表題を表示する．
3. 各対戦結果表は表題を含めセンタリングする．
4. 各対戦結果表は5行8列の罫線付きの表で出力する．
5. 同一国の対戦結果を表す欄は空欄とする．
6. 対戦結果には勝敗を表す記号 `W`（勝ち），`L`（負け），`D`（引き分け），点数を2行分を用いて出力する．（1行目に勝敗，2行目に点数）
7. 表の第6列，第7列，第8列は，それぞれ各国の勝ち試合数，引き分け試合数，負け試合数を出力する．
8. 対戦結果表の第1，6，7, 8列目は上下中央揃えとする．

対戦結果表の形式のサンプルとして PDFファイル[group-H.pdf](/proc/dist/group-H.pdf)を用意した．参考にせよ（サンプルはFIFAワールドカップ2010のHグループの結果である）．

- 本サンプルでは,`○`,`☓`,`△`を使用しているが, 上記仕様に従って`W`, `L`, `D`を用いること.

replitのプロジェクト右側の「Shell」タブからプログラムを実行し，テストを行うこと．Shellでの実行例は以下の通りである．

```bash
~/report1-2$ python report1-2.py A B C
```

また，texファイルのコンパイルはreplitの当該プロジェクト上では行うことができないため，[overleaf](https://www.overleaf.com/)（tex版replitと思えば良い）などを使うか，演習室のシステムや自身の環境を利用すること．

尚，余力のあるものは以下の拡張を行え．これら以外にも自由に拡張して構わないが，その場合は拡張した点に関してレポートに仕様を明確に記述すること．

1. 9列目に勝ち点を表示する．
    - 勝ち点は，勝ち3点，負け0点，引き分け1点とし，上下中央揃えとする．
2. 使用するフォントのサイズ，種類，国名を英語で出力するか日本語で出力するかを指定できるようにする．
    - 指定方法は引数でも，実行中に入力を要求してもよいが，必ず何を入力すればよいかのメッセージを出力すること．
    - 例："国名を日本語で出力する場合はJ，英語で出力する場合はEを入力してください："

### 課題1-3

replit上のプロジェクト「report1-3」は原点を中心とする単位円の1/4の円弧と，x,yともに0~1の範囲のランダムな点を1000個描画するPythonプログラムである．
（初回実行時にPythonライブラリ（matplotlibなど）のreplitプロジェクトへのインストールが行われ多少実行までに時間を要する場合がある）

モンテカルロ法で円周率を推定せよ．モンテカルロ法による円周率の計算を複数回（試行回数N回）実行し，得られた円周率piの推定値の分布をmatplotlibを用いてヒストグラムとして出力せよ．

ヒストグラムの横軸は円周率, 縦軸は度数（N回の試行で計算された円周率がその値になった回数．ただし，今回の場合全く同じ値になることはほとんどないので，円周率をいくつかの区間に区切って，計算結果が各区間に収まった回数としてヒストグラムを作成すること．）

  - 参考： [ヒストグラム](https://ja.wikipedia.org/wiki/%E3%83%92%E3%82%B9%E3%83%88%E3%82%B0%E3%83%A9%E3%83%A0)

モンテカルロ法とは，数値計算などをランダムな試行を繰り返して行う手法である．たとえば，円周率は以下の流れで計算できる．

1. 1辺の長さが1の正方形内部にランダムに打った点pが，正方形の対角を通る 1/4の円弧の内側に存在するか調べる．
2. 上記の「ランダムに点をうって位置を調べる」試行をM回繰り返す
3. Mを大きくすれば，「`1*1*円弧内部の点の数/M`」 が「`半径1の円の面積の1/4 = pi*1^2/4`」に近付くことから，円周率piが求まる．

実行環境の性能によっては試行回数Nやランダム点のプロット数Mが大きいと計算が終わらないことに注意せよ．replit上では試行回数N=10回，ランダム点の数M=100程度であれば数秒で実行できるので，開発・動作確認の段階ではこの程度の値を推奨する．自分で動作確認ができれば，最後にこれらの値を増やしてみるとよい．

### 提出物

#### レポート

レポートは，[レポート作成上の注意](writing.md)に従い LaTeX で作成し，PDF形式のファイルとして提出せよ．レポートには以下の内容を忘れずに含めること．

1. 課題1-1
	- 1.1  課題内容
	- 1.2  1），2）の作業がもつ意味
	- 1.3 このシェルスクリプトのコマンドとしての動作説明
	- 1.4  各行の動作内容の説明
2. 課題1-2
	- 2.1  課題内容
	- 2.2  仕様
	- 2.3 処理概要
	- 2.4  アルゴリズム
	- 2.5 工夫点
	- 2.6 テスト結果
	- 2.7 対戦結果表の出力(付録として添付，出力するグループ名については，以下の「提出する対戦結果表について」を参照)
	- 2.8 Pythonのプログラムリスト(replitでも提出するが，見やすさのためレポートに付録として添付すること)
3. 課題1-3
	- 3.1 課題内容
	- 3.2  仕様
	- 3.3  処理概要
	- 3.4  アルゴリズム
	- 3.5  工夫点
	- 3.6 テスト結果
	- 3.7  Python のプログラムリスト(replitでも提出するが，見やすさのためレポートに付録として添付すること)
4. 全体
	- 感想

### レポートの提出

PDFで作成したレポートファイルをCLEの「**ファイルの添付**」から提出せよ． 再提出を認めるが，最後に更新された日時を提出日とするので気をつけること．

### 提出する対戦結果表について

出力する対戦結果表は，各自の学籍番号の下 1桁に5を足して8で割った余りの数字 n に対して，A から n 番目にあるアルファベットにより指定されるグループのものを出力するものとする．たとえば，n が 0 のときはグループ A，n が 6 の場合はグループ G の対戦結果表を提出することになる．

### 提出期限

- 受講生(A) : 2022年8月2日(月)23:59
- 受講生(B) : 2022年6月28日(火)23:59

受講生の区分は初回 実験A・プロC合同説明会資料を確認すること．（少なくとも学部2年生は全員受講生(B)に該当）
